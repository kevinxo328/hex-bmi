{"version":3,"sources":["all.js"],"names":["cal","document","querySelector","result","getItem","bmiCalculator","getElementById","value","w","setData","h","toFixed","updateList","data","height","weight","bmi","date","Date","year","getFullYear","getMonth","getDate","status","color","setBtn","localStorage","setItem","JSON","stringify","push","length","str","concat","i","innerHTML","addEventListener"],"mappings":"aAAA,IAAMA,IAAMC,SAASC,cAAc,WAC7BC,OAASF,SAASC,cAAc,sBADhCF,KAAMC,KAAAA,MAASC,aAAcE,QAAnC,YAAA,GAOA,SAASC,gBAAT,IAASA,EAAAA,SAATC,eAAyB,UAAAC,MACfC,EAAGP,SAASK,eAAe,UAAUC,MAI5CE,QAAOC,EAAAF,GAHGP,GAASK,EAAAA,IAAAA,EAAe,MAAAK,QAAlC,IAIAC,WAAWC,MAId,SAASJ,QAAQK,EAAQC,EAAQC,GAC9B,IAAMC,EAAO,IAAIC,KACXC,EAAOF,EAAKG,cAIdjB,EAAS,CACVa,IAAOA,EACPF,OAAUA,EACVC,OAAUA,EACVE,KAPWA,EAAKI,WAAnB,EAEc,IADFJ,EAAKK,UACH,IAA0BH,GAQxC,QAAQ,GACL,KAASH,EAAG,KACTb,EAAOoB,OAAS,OAChBpB,EAAOqB,MAAQ,OACf,MACH,KAAM,MAAQR,GAAOA,EAAM,GAArBb,EAAAoB,OAAeP,KAClBb,EAAOoB,MAAS,QAChBpB,MACA,KAAA,IAAAa,GAAAA,EAAA,GAEAb,EAAOoB,OAAS,KADbpB,EAAMa,MAAOA,SAChBb,MACAA,KAAM,IAANa,GAAeA,EAAf,GACAb,EAAAoB,OAAA,OAGApB,EAAOqB,MAAQ,SAFZ,MACHrB,KAAM,IAACoB,GAASP,EAAhB,GACAb,EAAOqB,OAAQ,OACfrB,EAAAqB,MAAA,SAIA,MAHH,KAAM,GAAMR,EACTb,EAAOoB,OAAS,OAChBpB,EAAOqB,MAAQ,MAElBC,OAAMtB,GACHA,KAAAA,KAAOoB,GAEPG,aAAAC,QAAA,UAAAC,KAAAC,UAAAhB,OAENY,SAAOtB,WAAPU,GAGAa,IAFAb,IAAKiB,EAAK3B,GAEVuB,EAAaC,EAAAA,EAAQd,EAAAkB,OAAWH,IAClCI,GAAA,kFAAAC,OAEyBpB,EAAAqB,GAAAV,MAFzB,wDAAAS,OAGEpB,EAAAqB,GAAAX,OAHF,gGAAAU,OAUqFpB,EAAKqB,GAAGlB,IAV7F,yGAAAiB,OAKwCpB,EAAAqB,GAAAnB,OALxC,yGAAAkB,OAMQpB,EAAAqB,GAEgDrB,OARxD,oDAAAoB,OAeGpB,EAAAqB,GAAAjB,KAfH,2BAkBAd,OAAAgC,UAAAH,EAGE,SAASP,OAAAtB,GAQTH,IAAImC,EAAAA,2CAAAA,OACNhC,EAAAqB,MADMW,gDAAAA,OANmChC,EAAOa,IAM1CmB,uFAAAA,OALqDhC,EAAOqB,MAK5DW,0JAAAA,OADsDhC,EAAOqB,MAC7DW,MAAAA,OADuEhC,EAAOoB,OAC9EY,UAAJnC,IAAImC,UAAYH,EApFnBhC,IAAIoC,iBAAiB,QAAS/B","file":"all.js","sourcesContent":["const cal = document.querySelector('.js-btn');\nconst result = document.querySelector('.l-records__result');\nlet data = JSON.parse(localStorage.getItem('record')) || [];\n\n// 監聽\ncal.addEventListener('click', bmiCalculator);\n\nfunction bmiCalculator() {\n   const h = document.getElementById('height').value;\n   const w = document.getElementById('weight').value;\n   const bmi = (w / (h / 100 * h / 100)).toFixed(2);\n\n   setData(h, w, bmi);\n   updateList(data);\n}\n\n// 儲存資料到localstorage\nfunction setData(height, weight, bmi) {\n   const date = new Date();\n   const year = date.getFullYear();\n   const month = date.getMonth() + 1;\n   const day = date.getDate();\n   const today = month + '-' + day + '-' + year;\n   let result = {\n      'bmi': bmi,\n      'height': height,\n      'weight': weight,\n      'date': today\n   }\n\n   switch (true) {\n      case (bmi < 18.5):\n         result.status = '體重過輕';\n         result.color = 'blue';\n         break;\n      case (18.5 <= bmi && bmi < 24):\n         result.status = '正常';\n         result.color = 'green';\n         break;\n      case (24 <= bmi && bmi < 27):\n         result.status = '過重';\n         result.color = 'orange';\n         break;\n      case (27 <= bmi && bmi < 30):\n         result.status = '輕度肥胖';\n         result.color = 'redish';\n         break;\n      case (30 <= bmi && bmi < 35):\n         result.status = '中度肥胖';\n         result.color = 'redish';\n         break;\n      case (35 < bmi):\n         result.status = '重度肥胖';\n         result.color = 'red';\n         break;\n   }\n   setBtn(result);\n   data.push(result);\n   // console.log(data);\n   localStorage.setItem('records', JSON.stringify(data));\n}\n\nfunction updateList(data) {\n   let str = '';\n\n   for (let i = 0; i < data.length; i++) {\n      str +=\n         `<div class=\"c-result\">\n            <div class=\"c-result__mark c-result__mark--${data[i].color}\"></div>\n            <div class=\"c-result__status\">${data[i].status}</div>\n            <div class=\"c-result__bmi\"><span class=\"c-result__bmi--small\">BMI</span>${data[i].bmi}</div>\n            <div class=\"c-result__weight\"><span class=\"c-result__weight--small\">weight</span>${data[i].weight}</div>\n            <div class=\"c-result__height\"><span class=\"c-result__height--small\">height</span>${data[i].height}</div>\n            <div class=\"c-result__date\">${data[i].date}</div>\n         </div>`\n   };\n\n   result.innerHTML = str;\n}\n\nfunction setBtn(result) {\n   const str =\n      `<button class=\"c-resultBtn c-resultBtn--${result.color}\">\n         <div class=\"c-resultBtn__bmi \">${result.bmi} <span>bmi</span></div>\n         <div class=\"c-resultBtn__loop c-resultBtn__loop--${result.color}\">\n            <img src=\"./img/icons_loop.png\" alt=\"\">\n         </div>\n      </button>\n      <div class=\"c-resultBtn__status c-resultBtn__status--${result.color}\">${result.status}</div>`\n   cal.innerHTML = str;\n}"]}